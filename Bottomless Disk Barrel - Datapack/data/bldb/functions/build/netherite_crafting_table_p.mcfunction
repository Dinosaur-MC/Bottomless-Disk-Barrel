execute as @e[type=minecraft:item,nbt={OnGround:1b,Item:{id:"minecraft:crafting_table",Count:1b,tag:{display:{Name:'{"text":"updata"}'}}}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:iron_block",Count:1b}}] if entity @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:netherite_ingot",Count:1b}}] run tag @s add Crafting
execute as @e[type=minecraft:item,nbt={OnGround:1b,Item:{id:"minecraft:crafting_table",Count:1b,tag:{display:{Name:'{"text":"updata"}'}}}},tag=Crafting] at @s as @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:iron_block",Count:1b}}] run tag @s add Crafting
execute as @e[type=minecraft:item,nbt={OnGround:1b,Item:{id:"minecraft:crafting_table",Count:1b,tag:{display:{Name:'{"text":"updata"}'}}}},tag=Crafting] at @s as @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:netherite_ingot",Count:1b}}] run tag @s add Crafting

execute as @e[type=minecraft:item,nbt={OnGround:1b,Item:{id:"minecraft:crafting_table",Count:1b,tag:{display:{Name:'{"text":"updata"}'}}}},tag=Crafting] at @s if entity @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:iron_block",Count:1b}},tag=Crafting] if entity @e[limit=1,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b,Item:{id:"minecraft:netherite_ingot",Count:1b}},tag=Crafting] run summon minecraft:item ~ ~ ~ {Motion:[0.0d,0.25d,0.0d],Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:7062001,EntityTag:{Invulnerable:1b,Health:0.1f,Tags:["spawn_crafting_table"],NoAI:1b,Silent:1b,CustomName:'{"text":"Netherite_CT","color":"yellow","italic":false}'},display:{Name:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}}}}
execute as @e[type=minecraft:item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:7062001,EntityTag:{Invulnerable:1b,Health:0.1f,Tags:["spawn_crafting_table"],NoAI:1b,Silent:1b,CustomName:'{"text":"Netherite_CT","color":"yellow","italic":false}'},display:{Name:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}}},Age:0s}] at @s run particle minecraft:cloud ~ ~ ~ 0 0 0 0.04 32
execute as @e[type=minecraft:item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:7062001,EntityTag:{Invulnerable:1b,Health:0.1f,Tags:["spawn_crafting_table"],NoAI:1b,Silent:1b,CustomName:'{"text":"Netherite_CT","color":"yellow","italic":false}'},display:{Name:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}}},Age:0s}] at @s run kill @e[limit=3,type=minecraft:item,sort=nearest,distance=..1,nbt={OnGround:1b},tag=Crafting]


execute as @e[type=minecraft:bat,tag=spawn_crafting_table] at @s unless block ~ ~ ~ #bldb:empty_space if block ~ ~1 ~ #bldb:empty_space run tp @s ~ ~1 ~
execute as @e[type=minecraft:bat,tag=spawn_crafting_table] at @s unless block ~ ~ ~ #bldb:empty_space run tag @s add freeze

execute as @e[type=minecraft:bat,tag=spawn_crafting_table,tag=!freeze] at @s if entity @p[y_rotation=-135..-45] align y run summon minecraft:armor_stand ~ ~ ~ {Rotation:[90.0f,0.0f],CustomName:'{"text":"NECT","color":"yellow"}',DisabledSlots:2039583,Small:1b,Marker:1b,ShowArms:0b,Invulnerable:1b,NoGravity:1b,NoAI:1b,Invisible:1b,Tags:["Netherite_CT"],HandItems:[],ArmorItems:[{},{},{},{id:"minecraft:wooden_hoe",Count:1b,tag:{IsFakeItem:1b,display:{Name:'{"text":"BLDB block Texture"}'},TempItem:{},HideFlags:63,CustomModelData:7062010}}]}
execute as @e[type=minecraft:bat,tag=spawn_crafting_table,tag=!freeze] at @s if entity @p[y_rotation=-45..45] align y run summon minecraft:armor_stand ~ ~ ~ {Rotation:[-180.0f,0.0f],CustomName:'{"text":"NECT","color":"yellow"}',DisabledSlots:2039583,Small:1b,Marker:1b,ShowArms:0b,Invulnerable:1b,NoGravity:1b,NoAI:1b,Invisible:1b,Tags:["Netherite_CT"],HandItems:[],ArmorItems:[{},{},{},{id:"minecraft:wooden_hoe",Count:1b,tag:{IsFakeItem:1b,display:{Name:'{"text":"BLDB block Texture"}'},TempItem:{},HideFlags:63,CustomModelData:7062010}}]}
execute as @e[type=minecraft:bat,tag=spawn_crafting_table,tag=!freeze] at @s if entity @p[y_rotation=45..135] align y run summon minecraft:armor_stand ~ ~ ~ {Rotation:[-90.0f,0.0f],CustomName:'{"text":"NECT","color":"yellow"}',DisabledSlots:2039583,Small:1b,Marker:1b,ShowArms:0b,Invulnerable:1b,NoGravity:1b,NoAI:1b,Invisible:1b,Tags:["Netherite_CT"],HandItems:[],ArmorItems:[{},{},{},{id:"minecraft:wooden_hoe",Count:1b,tag:{IsFakeItem:1b,display:{Name:'{"text":"BLDB block Texture"}'},TempItem:{},HideFlags:63,CustomModelData:7062010}}]}
execute as @e[type=minecraft:bat,tag=spawn_crafting_table,tag=!freeze] at @s if entity @p[y_rotation=135..-135] align y run summon minecraft:armor_stand ~ ~ ~ {Rotation:[0.0f,0.0f],CustomName:'{"text":"NECT","color":"yellow"}',DisabledSlots:2039583,Small:1b,Marker:1b,ShowArms:0b,Invulnerable:1b,NoGravity:1b,NoAI:1b,Invisible:1b,Tags:["Netherite_CT"],HandItems:[],ArmorItems:[{},{},{},{id:"minecraft:wooden_hoe",Count:1b,tag:{IsFakeItem:1b,display:{Name:'{"text":"BLDB block Texture"}'},TempItem:{},HideFlags:63,CustomModelData:7062010}}]}

execute as @e[type=minecraft:bat,tag=spawn_crafting_table,tag=freeze] at @s run summon minecraft:item ~ ~ ~ {Motion:[0.0d,0.25d,0.0d],Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:7062001,EntityTag:{Invulnerable:1b,Health:0.1f,Tags:["spawn_crafting_table"],NoAI:1b,Silent:1b,CustomName:'{"text":"Netherite_CT","color":"yellow","italic":false}'},display:{Name:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}}}}

execute as @e[type=minecraft:bat,tag=spawn_crafting_table] at @s run tp @s ~ -10086 ~
execute as @e[type=minecraft:bat,tag=spawn_crafting_table] run data merge entity @s {Health:0.0f}


execute as @e[type=minecraft:armor_stand,tag=Netherite_CT,tag=!working] at @s if entity @p[y_rotation=-135..-45] run setblock ~ ~ ~ minecraft:barrel[facing=west]{CustomName:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}
execute as @e[type=minecraft:armor_stand,tag=Netherite_CT,tag=!working] at @s if entity @p[y_rotation=-45..45] run setblock ~ ~ ~ minecraft:barrel[facing=north]{CustomName:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}
execute as @e[type=minecraft:armor_stand,tag=Netherite_CT,tag=!working] at @s if entity @p[y_rotation=45..135] run setblock ~ ~ ~ minecraft:barrel[facing=east]{CustomName:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}
execute as @e[type=minecraft:armor_stand,tag=Netherite_CT,tag=!working] at @s if entity @p[y_rotation=135..-135] run setblock ~ ~ ~ minecraft:barrel[facing=south]{CustomName:'{"italic":false,"translate":"BLDB.name.Netherite_CT","color":"yellow"}'}
execute as @e[type=minecraft:armor_stand,tag=Netherite_CT,tag=!working] at @s if block ~ ~ ~ minecraft:barrel run tag @s add working
